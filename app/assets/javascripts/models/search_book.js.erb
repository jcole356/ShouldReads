ShouldReads.Models.SearchBook = Backbone.Model.extend({
  initialize: function() {
  },

  parse: function(response) {
    var volumeInfo = response.volumeInfo;
    var title = response.volumeInfo.title;
    var author,
        coverImage,
        numberOfPages,
        synopsis,
        isbn;

    if (volumeInfo) {
        if (volumeInfo.authors) {
          // change this to handle multiple authors
          author = volumeInfo.authors[0];
        } else {
          author = "Unknown";
        }
        if (volumeInfo.imageLinks) {
          coverImage = volumeInfo.imageLinks.thumbnail
            .replace("http", "https");
        } else {
          coverImage = "<%= asset_path("old_bible.jpg") %>";
        }
        if (volumeInfo.pageCount) {
          numberOfPages = volumeInfo.pageCount;
        } else {
          numberOfPages = "N/A";
        }
        if (volumeInfo.description) {
          synopsis = volumeInfo.description;
        } else {
          synopsis = "No Description Available";
        }
        // Default will be ISBN 13.  Add ISBN 10 as backup.
        if (volumeInfo.industryIdentifiers) {
          _.each(volumeInfo.industryIdentifiers, function(identifier){
            if (identifier.type === 'ISBN_13') {
              isbn = identifier.identifier;
            }
          })
        }

      this.set({
        // Not sure why I left this one as is
        title: title,
        author: author,
        cover_image_url: coverImage,
        number_of_pages: numberOfPages,
        description: synopsis
        // Need to add ISBN
      });

      return this;
    }
  }
});
